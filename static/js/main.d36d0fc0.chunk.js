(this["webpackJsonpmy-dnd"]=this["webpackJsonpmy-dnd"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(16),r=n.n(i),o=(n(25),n(26),n(3)),c=n(17),l=n(18),u=n(20),d=n(19),h=n(12),m=n.n(h),p=n(2),f=n(0),v=[[0,1,2],[3,4,5,6,7],[8,9,10,11]],j=function(e,t,n,s,a){var i=e.slice(0),r=i[t][n];return i[t].splice(n,1),i[s].splice(a,0,r),x(i),i},b=function(e,t,n){return Math.max(Math.min(e,n),t)},O=function(){return window.innerWidth/v.length-21/v.length},g=110,M=O(),w=null,x=function(e){M=O(),w=e.map((function(e,t){return m.a.range(e.length+1).map((function(e,n){return[M*t,g*n]}))}))},z={stiffness:180,damping:10},y={stiffness:150,damping:16},L=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={order:v,lastPress:null,currentColumn:null,isPressed:!1,mouse:[0,0],isResizing:!1,delta:[0,0]},e.componentWillMount=function(){e.resizeTimeout=null,x(v)},e.componentDidMount=function(){window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("touchmove",e.handleTouchMove),window.addEventListener("touchend",e.handleMouseUp),window.addEventListener("mouseup",e.handleMouseUp),window.addEventListener("resize",e.handleResize)},e.componentWillUnmount=function(){window.removeEventListener("resize",e.handleResize)},e.handleTouchStart=function(t,n,s,a){e.handleMouseDown(t,n,s,a.touches[0])},e.handleTouchMove=function(t){t.preventDefault(),e.handleMouseMove(t.touches[0])},e.handleMouseMove=function(t){var n=t.pageX,s=t.pageY,a=e.state,i=a.order,r=a.lastPress,c=a.currentColumn,l=a.isPressed,u=Object(o.a)(a.delta,2),d=u[0],h=u[1];if(l){var m=[n-d,s-h],p=b(Math.floor((m[0]+M/2)/M),0,2),f=b(Math.floor((m[1]+55)/g),0,100),v=i[c].indexOf(r),O=j(i,c,v,p,f);e.setState({mouse:m,order:O,currentColumn:p})}},e.handleMouseDown=function(t,n,s,a){var i=Object(o.a)(s,2),r=i[0],c=i[1],l=a.pageX,u=a.pageY;e.setState({lastPress:t,currentColumn:n,isPressed:!0,delta:[l-r,u-c],mouse:[r,c]})},e.handleMouseUp=function(){e.setState({isPressed:!1,delta:[0,0]})},e.handleResize=function(){clearTimeout(e.resizeTimeout),e.applyResizingState(!0),e.resizeTimeout=setTimeout((function(){return e.applyResizingState(!1)}),100)},e.applyResizingState=function(t){e.setState({isResizing:t}),x(v)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log(this.state,"Last selected List item is List ".concat(this.state.lastPress+1));var t=this.state,n=t.order,s=t.lastPress,a=t.currentColumn,i=t.isPressed,r=t.mouse,c=t.isResizing;return Object(f.jsx)("div",{className:"items",children:n.map((function(t,l){return t.map((function(t){var u,d,h,m=n[l].indexOf(t),v=t===s&&l===a&&i;if(v){var j=Object(o.a)(r,2);d=j[0],h=j[1],u={translateX:d,translateY:h,scale:Object(p.spring)(1.1,z)}}else if(c){var b=Object(o.a)(w[l][m],2);d=b[0],h=b[1],u={translateX:d,translateY:h,scale:1}}else{var O=Object(o.a)(w[l][m],2);d=O[0],h=O[1],u={translateX:Object(p.spring)(d,y),translateY:Object(p.spring)(h,y),scale:Object(p.spring)(1,z)}}return Object(f.jsx)(p.Motion,{style:u,children:function(n){var i=n.translateX,r=n.translateY,o=n.scale;return Object(f.jsxs)("div",{onMouseDown:e.handleMouseDown.bind(null,t,l,[d,h]),onTouchStart:e.handleTouchStart.bind(null,t,l,[d,h]),className:v?"item is-active":"item",style:{WebkitTransform:"translate3d(".concat(i,"px, ").concat(r,"px, 0) scale(").concat(o,")"),transform:"translate3d(".concat(i,"px, ").concat(r,"px, 0) scale(").concat(o,")"),zIndex:t===s&&l===a?99:m},children:["List ",t+1,Object(f.jsx)("img",{src:"https://loremflickr.com/320/240"})]})}},t)}))}))})}}]),n}(a.a.Component);var S=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{className:"title",children:"My DnD Layout Exm"}),Object(f.jsx)("div",{children:Object(f.jsx)(L,{})})]})};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.d36d0fc0.chunk.js.map